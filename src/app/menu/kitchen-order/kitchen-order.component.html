<div class="order-card" [class]="'order-' + status">
	<div class="order-header">
		<div class="order-table">
			<span class="table-number">{{ tableNumber }}</span>
			<span class="table-name">{{ tableName }}</span>
		</div>
		<div class="order-time">
			<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M12 2C6.48 2 2 6.48 2 12S6.48 22 12 22S22 17.52 22 12S17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12S7.59 4 12 4S20 7.59 20 12S16.41 20 12 20ZM12.5 7H11V13L16.2 16.2L17.1 15.3L12.5 12.4V7Z" fill="currentColor"/>
			</svg>
			<span>{{ elapsedTime }} min</span>
		</div>
	</div>

	<div class="order-items">
		@for (item of items; track item.id) {
			<div class="order-item">
				<span class="item-quantity">{{ item.quantity }}</span>
				<span class="item-name">{{ item.name }}</span>
			</div>
		}
	</div>

	<div class="order-notes" *ngIf="notes">
		<span class="notes-label">Nota:</span>
		<span class="notes-text">{{ notes }}</span>
	</div>

	<div class="order-footer">
		@switch (status) {
			@case ('pendiente') {
				<button class="action-btn pendiente" type="button" (click)="onStatusChange('preparando')">
					Listo para servir
				</button>
			}
			@case ('preparando') {
				<button class="action-btn preparando" type="button" (click)="onStatusChange('listo')">
					✓ Listo
				</button>
			}
			@case ('listo') {
				<button class="action-btn listo" type="button" (click)="onStatusChange('servido')" disabled>
					✓ Listo
				</button>
			}
		}
	</div>
</div>
