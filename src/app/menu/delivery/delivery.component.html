<div class="delivery-container">
	<app-sidebar
		[menuItems]="sidebarItems"
		[currentUser]="currentUser"
		[cartCount]="cartCount">
	</app-sidebar>

	<div class="delivery-content">
		<app-page-header
			title="Entregas a Domicilio"
			japaneseName="配達"
			subtitle="Gestiona las entregas pendientes y en curso">
		</app-page-header>

		<app-stats-grid [stats]="deliveryStats"></app-stats-grid>

		<div class="delivery-tabs">
			<app-filter-chips
				label="Estado"
				[options]="statusOptions"
				[selectedId]="selectedStatus"
				(optionSelected)="onStatusFilterChange($event)">
			</app-filter-chips>
		</div>

		<div class="deliveries-list">
			@if (getFilteredDeliveries().length > 0) {
				@for (delivery of getFilteredDeliveries(); track delivery.id) {
					<app-delivery-card
						[delivery]="delivery"
						[statusLabel]="getStatusLabel(delivery.status)"
						(statusChange)="updateDeliveryStatus(delivery.id, $event)">
					</app-delivery-card>
				}
			} @else {
				<div class="empty-state">
					<svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M3 5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H5C4.46957 17 3.96086 16.7893 3.58579 16.4142C3.21071 16.0391 3 15.5304 3 15V5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
						<path d="M3 5L12 11L21 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
					</svg>
					<h3>No hay entregas {{ getStatusLabel(selectedStatus).toLowerCase() }}</h3>
					<p>Perfecto, todas las entregas están bajo control</p>
				</div>
			}
		</div>
	</div>
</div>
